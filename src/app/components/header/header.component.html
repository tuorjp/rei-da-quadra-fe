<mat-toolbar color="primary" class="app-toolbar">
  <span class="app-title">{{ translate('app.title') }}</span>

  <div class="toolbar-spacer"></div>

  <div class="profile-section" (click)="onProfileClick()">
    <div class="profile-avatar">
      <img [src]="userAvatar" alt="Profile" class="avatar-image">
    </div>
    <div class="skill-points">
      <mat-icon class="skill-icon">star</mat-icon>
      <span class="points-text">{{ userSkillPoints }}</span>
    </div>
  </div>

  <button mat-icon-button [matMenuTriggerFor]="languageMenu" class="toolbar-button">
    <mat-icon>language</mat-icon>
  </button>
  <mat-menu #languageMenu="matMenu">
    <button mat-menu-item (click)="setLanguage('pt')">
      <mat-icon>{{ languageService.currentLanguage() === 'pt' ? 'check' : '' }}</mat-icon>
      Português
    </button>
    <button mat-menu-item (click)="setLanguage('en')">
      <mat-icon>{{ languageService.currentLanguage() === 'en' ? 'check' : '' }}</mat-icon>
      English
    </button>
    <button mat-menu-item (click)="setLanguage('es')">
      <mat-icon>{{ languageService.currentLanguage() === 'es' ? 'check' : '' }}</mat-icon>
      Español
    </button>
  </mat-menu>

  <button mat-icon-button [matMenuTriggerFor]="themeMenu" class="toolbar-button">
    <mat-icon>
      @switch (themeService.themeMode()) {
        @case ('light') { light_mode }
        @case ('dark') { dark_mode }
        @default { brightness_auto }
      }
    </mat-icon>
  </button>
  <mat-menu #themeMenu="matMenu">
    <button mat-menu-item (click)="setTheme('light')">
      <mat-icon>{{ themeService.themeMode() === 'light' ? 'check' : 'light_mode' }}</mat-icon>
      {{ translate('theme.light') }}
    </button>
    <button mat-menu-item (click)="setTheme('dark')">
      <mat-icon>{{ themeService.themeMode() === 'dark' ? 'check' : 'dark_mode' }}</mat-icon>
      {{ translate('theme.dark') }}
    </button>
    <button mat-menu-item (click)="setTheme('system')">
      <mat-icon>{{ themeService.themeMode() === 'system' ? 'check' : 'brightness_auto' }}</mat-icon>
      {{ translate('theme.system') }}
    </button>
  </mat-menu>

  <button mat-icon-button class="toolbar-button" (click)="logout()" matTooltip="Sair">
    <mat-icon>logout</mat-icon>
  </button>
</mat-toolbar>
